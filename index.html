<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>album demo</title>

    <style>
        .pic {
            display: inline-block;
            border: solid 1px red;
            width: 50%;
            height: 50%;
            margin: 10px 30px;
        }
    </style>

</head>

<body>

            <div id="app">
                <button @click="getData()">请求数据</button>
                <ul>
                    <li v-for="item in users">
                        {{item}}
                    </li>
                </ul>
            </div>




    <script src="./js/vue.js"></script>
    <script src="https://cdn.bootcdn.net/ajax/libs/fetch-jsonp/1.2.3/fetch-jsonp.js"></script>
    <script>
        let vm = new Vue({
            el: '#app',
            data() {
                return {
                    users: []
                }
            },
            methods: {
                getData() {
                    var url ='http://129.159.139.101:3000';
                      fetchJsonp(url, {jsonpCallback: 'callback'})
                        .then((response) => {
                          console.log(response);
                          console.log(response.json());
                          return response.json();
                        }).then((json) => {
                            console.log(json)
                        this.users = json;	// 在此处进行接收数据之后的操作
                      }).catch((error) => {
                        console.log(error);	// 此处是数据请求失败后的处理
                      })
                }
            },
            mounted() { //新新的时候数据就显示出来
                this.getData();
            }
        })
    </script>

</body>

</html>

